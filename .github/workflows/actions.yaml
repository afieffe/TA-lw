name: GitHub Actions Demo
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]


jobs:
  appinspect-job:
    runs-on: ubuntu-latest
    steps:
      - name: Check out the repo
        uses: actions/checkout@v3
      - name: Compress archive
        run : tar -czvf TA-lw.spl * --transform='s,^,/TA-lw/,'
      - name: install appinspect
        run : pip install splunk-appinspect
      - name: Inspect App
        run : splunk-appinspect inspect TA-lw.spl

